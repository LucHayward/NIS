# NIS Assignment

## Usage

1. Initially, the keys and certificate for the certificate authority (CA) need to be generated by running the ```GenerateCertificateAuthorityCert``` main method.
2. For each new user, keys and a certificate (signed by the CA) must be generated by running the ```GenerateClientCert``` main method.

## Notes

### Certificate Verification
A certificate can be verified as follows:
```java
X509Certificate caCertificate = ...
X509Certificate untrustedCertificate = ...
untrustedCertificate.verify(caCertificate.getPublicKey());
``` 

The ```verify()``` method will throw an error if the verification fails or return (void) if the verification succeeds.

### Libraries
JDK14 version of [Bouncy Castle](https://www.bouncycastle.org/) 1.51

### Certificate Format
X509 v3 certificates

Using der encoding when saving certificates to files.
See [here](https://support.ssl.com/Knowledgebase/Article/View/19/0/der-vs-crt-vs-cer-vs-pem-certificates-and-how-to-convert-them) for an explanation.
The contents of a der encoded certificate can be viewed using:
```bash
openssl x509 -in uct.der -inform der -text -noout
```
Note that we never actually use the .der file because we store all certificates in .p12 files as well.

### Private key storage
Private keys are stored in [PKCS12](https://en.wikipedia.org/wiki/PKCS_12) (.p12) files.
